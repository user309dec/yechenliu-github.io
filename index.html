<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Yechen Liu</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="page">
      <header class="top">
        <nav class="nav">
          <a href="#home">[home]</a>
          <a href="#projects">[projects]</a>
          <a href="#experience">[experience]</a>
        </nav>
      </header>

      <main id="home" class="content">
        <h1>Yechen Liu</h1>
        <p class="subtitle">Mathematics + Computer Science Â· Rice University</p>

        <p>
          I am Yechen Liu, a mathematics and computer science student at Rice
          University focused on backend systems, distributed infrastructure, and
          applied machine learning.
        </p>
        <p>
          My work emphasizes correctness, performance, and clear interfaces.
        </p>
        <p>
          Feel free to reach me at
          <a href="mailto:yl328@rice.edu">yl328@rice.edu</a>.
        </p>

        <section id="projects" class="section">
          <h2>Projects</h2>
          <p class="muted">Coming soon. I will add projects here.</p>
        </section>

        <section id="experience" class="section">
          <h2>Experience</h2>
          <p class="muted">Coming soon. I will add experience and my CV here.</p>
          <p>
            <a href="LinusLiu-CV.pdf" class="mono-link">[cv]</a>
          </p>
        </section>
      </main>

      <footer class="footer">
        <a href="https://www.linkedin.com/in/linus-liu-10293a324" target="_blank" rel="noreferrer">
          [linkedin]
        </a>
        <a href="https://github.com/user309dec" target="_blank" rel="noreferrer">[github]</a>
      </footer>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const GLYPHS =
          "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%^&*<>{}[]|/\\";
        const TICK = 28;
        const DECODE_MS = 420;
        const GAP = 120;

        function textNodes(root) {
          const out = [];
          const w = document.createTreeWalker(root, NodeFilter.SHOW_TEXT);
          while (w.nextNode())
            if (w.currentNode.textContent.trim()) out.push(w.currentNode);
          return out;
        }

        function decode(el) {
          const nodes = textNodes(el);
          if (!nodes.length) return;
          const orig = nodes.map((n) => n.textContent);
          const total = orig.reduce(
            (s, t) => s + t.replace(/\s/g, "").length,
            0
          );
          if (!total) return;
          const perTick = Math.max(1, Math.ceil(total / (DECODE_MS / TICK)));
          let revealed = 0;

          const iv = setInterval(() => {
            revealed = Math.min(total, revealed + perTick);
            let count = 0;
            nodes.forEach((node, i) => {
              const src = orig[i];
              let r = "";
              for (let c = 0; c < src.length; c++) {
                if (/\s/.test(src[c])) {
                  r += src[c];
                } else {
                  count++;
                  r +=
                    count <= revealed
                      ? src[c]
                      : GLYPHS[(Math.random() * GLYPHS.length) | 0];
                }
              }
              node.textContent = r;
            });

            if (revealed >= total) {
              clearInterval(iv);
              nodes.forEach((n, i) => (n.textContent = orig[i]));
            }
          }, TICK);
        }

        // elements in visual top-to-bottom order
        const lines = [
          document.querySelector(".top"),
          document.querySelector(".content > h1"),
          document.querySelector(".content > .subtitle"),
          ...document.querySelectorAll(".content > p:not(.subtitle)"),
          document.querySelector("#projects > h2"),
          document.querySelector("#projects > .muted"),
          document.querySelector("#experience > h2"),
          document.querySelector("#experience > .muted"),
          document.querySelector("#experience > p:last-child"),
          document.querySelector(".footer"),
        ].filter(Boolean);

        lines.forEach((el) => el.classList.add("scramble-line"));

        lines.forEach((el, i) => {
          setTimeout(() => {
            el.classList.add("active");
            decode(el);
          }, 180 + i * GAP);
        });
      });
    </script>
  </body>
</html>
